<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="./img/check-circle.png" type="image/x-icon">
    <title>Todolion</title>
    <script src="todo.js"></script>
    <script src="dom-manipulation.js"></script>
    <script src="page-controller.js"></script>
</head>

<body>
    <script>
        // This assignment uses fetching from an external API, and DOM manipulation.
        // The API is https://jsonplaceholder.typicode.com/todos
        // The API returns a list of todo-entries.
        // The todo-entries have the following properties:
        // - id: number
        // - title: string
        // - completed: boolean
        // - userId: number
        //
        // Available functions:
        // - createAndAppendElement(parent, tag, attributes, children)
        // - clearBodyElement()
        // - todoList.fetchTodos()
        // - todoList.todos
        //
        // If you are unsure of something, please ask!

        // First, let's clear the body element
        clearBodyElement();

        // Then, let's fetch the todos
        todoList.fetchTodos()
            .then(() => {
                renderPage();
            })
            // If there is an error, we log it and set the todos to null
            .catch(error => {
                console.error("Error fetching todos:", error);
                todoList.todos = null;
            })
            .finally(() => {
                // If the todos are null, we log a message
                if (todoList.todos === null) {
                    console.log("No todos found");
                    // Add some user-friendly feedback to the DOM.
                    const feedbackElement = createAndAppendElement(document.body, "p", {
                        class: "feedback",
                        id: "feedback"
                    }, ["No todos found"]);
                }
            });

    </script>
</body>

    

</html>